{"ast":null,"code":"var _jsxFileName = \"/home/portuga/trybe-projetos/sd-021-b-project-trybewallet/src/components/ExpenseForm.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport propTypes, { string } from 'prop-types';\nimport { attTotal, editedExpenseAction, saveExpense, totalPrice, valueInputs } from '../actions';\nconst INITIAL_STATE = {\n  value: '',\n  description: '',\n  currency: 'USD',\n  method: 'Dinheiro',\n  tag: 'Alimentação',\n  price: {},\n  button: true,\n  idExpense: 0\n};\n\nclass ExpenseForm extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = INITIAL_STATE;\n\n    this.fetchPrice = async () => {\n      try {\n        const response = await fetch('https://economia.awesomeapi.com.br/json/all');\n        const json = await (response === null || response === void 0 ? void 0 : response.json());\n\n        if (json) {\n          this.setState({\n            price: json\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        inputValue\n      } = this.props;\n      if (inputValue.value) this.setState(inputValue);\n      const valueEl = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [target.name]: valueEl\n      }, this.valuesInputState);\n    };\n\n    this.valuesInputState = () => {\n      const {\n        value,\n        description,\n        currency,\n        method,\n        tag\n      } = this.state;\n      const objInput = {\n        value,\n        description,\n        currency,\n        method,\n        tag\n      };\n      const {\n        inputAction\n      } = this.props;\n      if (Number(value) > 0 && description) this.setState({\n        button: false\n      });else this.setState({\n        button: true\n      });\n      inputAction(objInput);\n    };\n\n    this.addExpenseFunc = async () => {\n      await this.fetchPrice();\n      const {\n        addExpense,\n        sumTotal,\n        inputAction\n      } = this.props;\n      const {\n        value,\n        description,\n        currency,\n        method,\n        tag,\n        price,\n        idExpense\n      } = this.state;\n      const expense = {\n        id: idExpense,\n        value,\n        description,\n        currency,\n        method,\n        tag,\n        exchangeRates: price\n      };\n      const converted = Number(value) * Number(price[currency].ask);\n      const valueConverted = (Math.floor(100 * converted) / 100).toFixed(2);\n      sumTotal(valueConverted);\n      addExpense(expense);\n      this.setState(prevState => ({ ...INITIAL_STATE,\n        id: prevState.id + 1\n      }));\n      inputAction(INITIAL_STATE);\n    };\n\n    this.editExpenseFunc = () => {\n      const {\n        inputAction,\n        expenses,\n        editedExpense,\n        idToEdit\n      } = this.props;\n      const {\n        value,\n        description,\n        currency,\n        method,\n        tag\n      } = this.state;\n      const expense = {\n        id: idToEdit,\n        value,\n        description,\n        currency,\n        method,\n        tag\n      };\n      const objEdit = expenses.map(exp => {\n        if (exp.id === idToEdit) {\n          exp = { ...exp,\n            ...expense\n          };\n        }\n\n        return exp;\n      });\n      const {\n        attTotalAction\n      } = this.props;\n      let total = '0.00';\n      objEdit.forEach(expen => {\n        const {\n          exchangeRates\n        } = expen;\n        total = Number(total) + Math.floor(100 * (expen.value * exchangeRates[expen.currency].ask)) / 100;\n      });\n      attTotalAction(total);\n      this.setState(INITIAL_STATE);\n      inputAction(INITIAL_STATE);\n      editedExpense(objEdit);\n    };\n  }\n\n  render() {\n    const {\n      currencies,\n      editor,\n      inputValue\n    } = this.props;\n    const {\n      value,\n      description,\n      currency,\n      method,\n      tag\n    } = inputValue;\n    const {\n      handleChange,\n      addExpenseFunc,\n      editExpenseFunc\n    } = this;\n    const {\n      button\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, \"Valor:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      \"data-testid\": \"value-input\",\n      id: \"value-input\",\n      value: value,\n      onChange: handleChange,\n      name: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, \"Descri\\xE7\\xE3o:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"description-input\",\n      id: \"description-input\",\n      value: description,\n      onChange: handleChange,\n      name: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"currencies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, \"Moeda:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"currencies\",\n      value: currency,\n      onChange: handleChange,\n      name: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }, currencies.map(cur => /*#__PURE__*/React.createElement(\"option\", {\n      key: cur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 38\n      }\n    }, cur)))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"method-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"Met\\xF3do de pagamento:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"method-input\",\n      \"data-testid\": \"method-input\",\n      value: method,\n      onChange: handleChange,\n      name: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, \"Dinheiro\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, \"Cart\\xE3o de d\\xE9bito\"))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, \"Tag:\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"tag-input\",\n      \"data-testid\": \"tag-input\",\n      value: tag,\n      onChange: handleChange,\n      name: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, \"Alimenta\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"Lazer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, \"Trabalho\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, \"Transporte\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, \"Sa\\xFAde\"))), editor ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      disabled: button,\n      onClick: editExpenseFunc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, \"Editar Despesa\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: addExpenseFunc,\n      disabled: button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, \"Adicionar Despesa\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currencies: state.wallet.currencies,\n  expenses: state.wallet.expenses,\n  editor: state.wallet.editor,\n  idToEdit: state.wallet.idToEdit,\n  inputValue: state.infos.input,\n  total: state.infos.total\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addExpense: expense => dispatch(saveExpense(expense)),\n  sumTotal: total => dispatch(totalPrice(total)),\n  inputAction: obj => dispatch(valueInputs(obj)),\n  editedExpense: expense => dispatch(editedExpenseAction(expense)),\n  attTotalAction: total => dispatch(attTotal(total))\n});\n\nExpenseForm.propTypes = {\n  currencies: propTypes.arrayOf(string),\n  addExpense: propTypes.func\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpenseForm);","map":{"version":3,"names":["React","connect","propTypes","string","attTotal","editedExpenseAction","saveExpense","totalPrice","valueInputs","INITIAL_STATE","value","description","currency","method","tag","price","button","idExpense","ExpenseForm","Component","state","fetchPrice","response","fetch","json","setState","error","console","log","handleChange","target","inputValue","props","valueEl","type","checked","name","valuesInputState","objInput","inputAction","Number","addExpenseFunc","addExpense","sumTotal","expense","id","exchangeRates","converted","ask","valueConverted","Math","floor","toFixed","prevState","editExpenseFunc","expenses","editedExpense","idToEdit","objEdit","map","exp","attTotalAction","total","forEach","expen","render","currencies","editor","cur","mapStateToProps","wallet","infos","input","mapDispatchToProps","dispatch","obj","arrayOf","func","isRequired"],"sources":["/home/portuga/trybe-projetos/sd-021-b-project-trybewallet/src/components/ExpenseForm.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport propTypes, { string } from 'prop-types';\nimport { attTotal,\n  editedExpenseAction, saveExpense, totalPrice, valueInputs } from '../actions';\n\nconst INITIAL_STATE = {\n  value: '',\n  description: '',\n  currency: 'USD',\n  method: 'Dinheiro',\n  tag: 'Alimentação',\n  price: {},\n  button: true,\n  idExpense: 0,\n};\n\nclass ExpenseForm extends React.Component {\n  state = INITIAL_STATE;\n\n  fetchPrice = async () => {\n    try {\n      const response = await fetch('https://economia.awesomeapi.com.br/json/all');\n      const json = await response?.json();\n      if (json) {\n        this.setState({ price: json });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  handleChange = ({ target }) => {\n    const { inputValue } = this.props;\n    if (inputValue.value) this.setState(inputValue);\n\n    const valueEl = target.type === 'checkbox' ? target.checked : target.value;\n    this.setState({ [target.name]: valueEl }, this.valuesInputState);\n  }\n\n  valuesInputState = () => {\n    const { value, description, currency, method, tag } = this.state;\n    const objInput = { value, description, currency, method, tag };\n    const { inputAction } = this.props;\n\n    if (Number(value) > 0 && description) this.setState({ button: false });\n    else this.setState({ button: true });\n\n    inputAction(objInput);\n  }\n\n  addExpenseFunc = async () => {\n    await this.fetchPrice();\n\n    const { addExpense, sumTotal, inputAction } = this.props;\n    const { value, description, currency, method, tag, price, idExpense } = this.state;\n    const expense = {\n      id: idExpense,\n      value,\n      description,\n      currency,\n      method,\n      tag,\n      exchangeRates: price,\n    };\n\n    const converted = Number(value) * Number(price[currency].ask);\n    const valueConverted = (Math.floor(100 * converted) / 100).toFixed(2);\n\n    sumTotal(valueConverted);\n    addExpense(expense);\n\n    this.setState((prevState) => ({\n      ...INITIAL_STATE,\n      id: prevState.id + 1,\n    }));\n    inputAction(INITIAL_STATE);\n  }\n\n  editExpenseFunc = () => {\n    const { inputAction, expenses, editedExpense, idToEdit } = this.props;\n    const { value, description, currency, method, tag } = this.state;\n\n    const expense = {\n      id: idToEdit,\n      value,\n      description,\n      currency,\n      method,\n      tag,\n    };\n\n    const objEdit = expenses.map((exp) => {\n      if (exp.id === idToEdit) {\n        exp = { ...exp, ...expense };\n      }\n      return exp;\n    });\n\n    const { attTotalAction } = this.props;\n    let total = '0.00';\n\n    objEdit.forEach((expen) => {\n      const { exchangeRates } = expen;\n      total = Number(total)\n      + (Math.floor(100 * (expen.value * exchangeRates[expen.currency].ask)) / 100);\n    });\n\n    attTotalAction(total);\n\n    this.setState(INITIAL_STATE);\n    inputAction(INITIAL_STATE);\n    editedExpense(objEdit);\n  }\n\n  render() {\n    const { currencies, editor, inputValue } = this.props;\n    const { value, description, currency, method, tag } = inputValue;\n    const { handleChange, addExpenseFunc, editExpenseFunc } = this;\n    const { button } = this.state;\n    return (\n      <form>\n        <label htmlFor=\"value-input\">\n          Valor:\n          <input\n            type=\"number\"\n            data-testid=\"value-input\"\n            id=\"value-input\"\n            value={ value }\n            onChange={ handleChange }\n            name=\"value\"\n          />\n        </label>\n\n        <label htmlFor=\"description-input\">\n          Descrição:\n          <input\n            type=\"text\"\n            data-testid=\"description-input\"\n            id=\"description-input\"\n            value={ description }\n            onChange={ handleChange }\n            name=\"description\"\n          />\n        </label>\n\n        <label htmlFor=\"currencies\">\n          Moeda:\n          <select\n            id=\"currencies\"\n            value={ currency }\n            onChange={ handleChange }\n            name=\"currency\"\n          >\n            {currencies.map((cur) => <option key={ cur }>{cur}</option>)}\n          </select>\n        </label>\n\n        <label htmlFor=\"method-input\">\n          Metódo de pagamento:\n          <select\n            id=\"method-input\"\n            data-testid=\"method-input\"\n            value={ method }\n            onChange={ handleChange }\n            name=\"method\"\n          >\n            <option>Dinheiro</option>\n            <option>Cartão de crédito</option>\n            <option>Cartão de débito</option>\n          </select>\n        </label>\n\n        <label htmlFor=\"tag-input\">\n          Tag:\n          <select\n            id=\"tag-input\"\n            data-testid=\"tag-input\"\n            value={ tag }\n            onChange={ handleChange }\n            name=\"tag\"\n          >\n            <option>Alimentação</option>\n            <option>Lazer</option>\n            <option>Trabalho</option>\n            <option>Transporte</option>\n            <option>Saúde</option>\n          </select>\n        </label>\n\n        {editor ? (\n          <button\n            type=\"button\"\n            disabled={ button }\n            onClick={ editExpenseFunc }\n          >\n            Editar Despesa\n          </button>\n        ) : (\n          <button\n            type=\"button\"\n            onClick={ addExpenseFunc }\n            disabled={ button }\n          >\n            Adicionar Despesa\n          </button>\n        )}\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currencies: state.wallet.currencies,\n  expenses: state.wallet.expenses,\n  editor: state.wallet.editor,\n  idToEdit: state.wallet.idToEdit,\n  inputValue: state.infos.input,\n  total: state.infos.total,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addExpense: (expense) => dispatch(saveExpense(expense)),\n  sumTotal: (total) => dispatch(totalPrice(total)),\n  inputAction: (obj) => dispatch(valueInputs(obj)),\n  editedExpense: (expense) => dispatch(editedExpenseAction(expense)),\n  attTotalAction: (total) => dispatch(attTotal(total)),\n});\n\nExpenseForm.propTypes = {\n  currencies: propTypes.arrayOf(string),\n  addExpense: propTypes.func,\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ExpenseForm);\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,IAAoBC,MAApB,QAAkC,YAAlC;AACA,SAASC,QAAT,EACEC,mBADF,EACuBC,WADvB,EACoCC,UADpC,EACgDC,WADhD,QACmE,YADnE;AAGA,MAAMC,aAAa,GAAG;EACpBC,KAAK,EAAE,EADa;EAEpBC,WAAW,EAAE,EAFO;EAGpBC,QAAQ,EAAE,KAHU;EAIpBC,MAAM,EAAE,UAJY;EAKpBC,GAAG,EAAE,aALe;EAMpBC,KAAK,EAAE,EANa;EAOpBC,MAAM,EAAE,IAPY;EAQpBC,SAAS,EAAE;AARS,CAAtB;;AAWA,MAAMC,WAAN,SAA0BlB,KAAK,CAACmB,SAAhC,CAA0C;EAAA;IAAA;IAAA,KACxCC,KADwC,GAChCX,aADgC;;IAAA,KAGxCY,UAHwC,GAG3B,YAAY;MACvB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6CAAD,CAA5B;QACA,MAAMC,IAAI,GAAG,OAAMF,QAAN,aAAMA,QAAN,uBAAMA,QAAQ,CAAEE,IAAV,EAAN,CAAb;;QACA,IAAIA,IAAJ,EAAU;UACR,KAAKC,QAAL,CAAc;YAAEV,KAAK,EAAES;UAAT,CAAd;QACD;MACF,CAND,CAME,OAAOE,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD;IACF,CAbuC;;IAAA,KAexCG,YAfwC,GAezB,QAAgB;MAAA,IAAf;QAAEC;MAAF,CAAe;MAC7B,MAAM;QAAEC;MAAF,IAAiB,KAAKC,KAA5B;MACA,IAAID,UAAU,CAACrB,KAAf,EAAsB,KAAKe,QAAL,CAAcM,UAAd;MAEtB,MAAME,OAAO,GAAGH,MAAM,CAACI,IAAP,KAAgB,UAAhB,GAA6BJ,MAAM,CAACK,OAApC,GAA8CL,MAAM,CAACpB,KAArE;MACA,KAAKe,QAAL,CAAc;QAAE,CAACK,MAAM,CAACM,IAAR,GAAeH;MAAjB,CAAd,EAA0C,KAAKI,gBAA/C;IACD,CArBuC;;IAAA,KAuBxCA,gBAvBwC,GAuBrB,MAAM;MACvB,MAAM;QAAE3B,KAAF;QAASC,WAAT;QAAsBC,QAAtB;QAAgCC,MAAhC;QAAwCC;MAAxC,IAAgD,KAAKM,KAA3D;MACA,MAAMkB,QAAQ,GAAG;QAAE5B,KAAF;QAASC,WAAT;QAAsBC,QAAtB;QAAgCC,MAAhC;QAAwCC;MAAxC,CAAjB;MACA,MAAM;QAAEyB;MAAF,IAAkB,KAAKP,KAA7B;MAEA,IAAIQ,MAAM,CAAC9B,KAAD,CAAN,GAAgB,CAAhB,IAAqBC,WAAzB,EAAsC,KAAKc,QAAL,CAAc;QAAET,MAAM,EAAE;MAAV,CAAd,EAAtC,KACK,KAAKS,QAAL,CAAc;QAAET,MAAM,EAAE;MAAV,CAAd;MAELuB,WAAW,CAACD,QAAD,CAAX;IACD,CAhCuC;;IAAA,KAkCxCG,cAlCwC,GAkCvB,YAAY;MAC3B,MAAM,KAAKpB,UAAL,EAAN;MAEA,MAAM;QAAEqB,UAAF;QAAcC,QAAd;QAAwBJ;MAAxB,IAAwC,KAAKP,KAAnD;MACA,MAAM;QAAEtB,KAAF;QAASC,WAAT;QAAsBC,QAAtB;QAAgCC,MAAhC;QAAwCC,GAAxC;QAA6CC,KAA7C;QAAoDE;MAApD,IAAkE,KAAKG,KAA7E;MACA,MAAMwB,OAAO,GAAG;QACdC,EAAE,EAAE5B,SADU;QAEdP,KAFc;QAGdC,WAHc;QAIdC,QAJc;QAKdC,MALc;QAMdC,GANc;QAOdgC,aAAa,EAAE/B;MAPD,CAAhB;MAUA,MAAMgC,SAAS,GAAGP,MAAM,CAAC9B,KAAD,CAAN,GAAgB8B,MAAM,CAACzB,KAAK,CAACH,QAAD,CAAL,CAAgBoC,GAAjB,CAAxC;MACA,MAAMC,cAAc,GAAG,CAACC,IAAI,CAACC,KAAL,CAAW,MAAMJ,SAAjB,IAA8B,GAA/B,EAAoCK,OAApC,CAA4C,CAA5C,CAAvB;MAEAT,QAAQ,CAACM,cAAD,CAAR;MACAP,UAAU,CAACE,OAAD,CAAV;MAEA,KAAKnB,QAAL,CAAe4B,SAAD,KAAgB,EAC5B,GAAG5C,aADyB;QAE5BoC,EAAE,EAAEQ,SAAS,CAACR,EAAV,GAAe;MAFS,CAAhB,CAAd;MAIAN,WAAW,CAAC9B,aAAD,CAAX;IACD,CA5DuC;;IAAA,KA8DxC6C,eA9DwC,GA8DtB,MAAM;MACtB,MAAM;QAAEf,WAAF;QAAegB,QAAf;QAAyBC,aAAzB;QAAwCC;MAAxC,IAAqD,KAAKzB,KAAhE;MACA,MAAM;QAAEtB,KAAF;QAASC,WAAT;QAAsBC,QAAtB;QAAgCC,MAAhC;QAAwCC;MAAxC,IAAgD,KAAKM,KAA3D;MAEA,MAAMwB,OAAO,GAAG;QACdC,EAAE,EAAEY,QADU;QAEd/C,KAFc;QAGdC,WAHc;QAIdC,QAJc;QAKdC,MALc;QAMdC;MANc,CAAhB;MASA,MAAM4C,OAAO,GAAGH,QAAQ,CAACI,GAAT,CAAcC,GAAD,IAAS;QACpC,IAAIA,GAAG,CAACf,EAAJ,KAAWY,QAAf,EAAyB;UACvBG,GAAG,GAAG,EAAE,GAAGA,GAAL;YAAU,GAAGhB;UAAb,CAAN;QACD;;QACD,OAAOgB,GAAP;MACD,CALe,CAAhB;MAOA,MAAM;QAAEC;MAAF,IAAqB,KAAK7B,KAAhC;MACA,IAAI8B,KAAK,GAAG,MAAZ;MAEAJ,OAAO,CAACK,OAAR,CAAiBC,KAAD,IAAW;QACzB,MAAM;UAAElB;QAAF,IAAoBkB,KAA1B;QACAF,KAAK,GAAGtB,MAAM,CAACsB,KAAD,CAAN,GACLZ,IAAI,CAACC,KAAL,CAAW,OAAOa,KAAK,CAACtD,KAAN,GAAcoC,aAAa,CAACkB,KAAK,CAACpD,QAAP,CAAb,CAA8BoC,GAAnD,CAAX,IAAsE,GADzE;MAED,CAJD;MAMAa,cAAc,CAACC,KAAD,CAAd;MAEA,KAAKrC,QAAL,CAAchB,aAAd;MACA8B,WAAW,CAAC9B,aAAD,CAAX;MACA+C,aAAa,CAACE,OAAD,CAAb;IACD,CAhGuC;EAAA;;EAkGxCO,MAAM,GAAG;IACP,MAAM;MAAEC,UAAF;MAAcC,MAAd;MAAsBpC;IAAtB,IAAqC,KAAKC,KAAhD;IACA,MAAM;MAAEtB,KAAF;MAASC,WAAT;MAAsBC,QAAtB;MAAgCC,MAAhC;MAAwCC;IAAxC,IAAgDiB,UAAtD;IACA,MAAM;MAAEF,YAAF;MAAgBY,cAAhB;MAAgCa;IAAhC,IAAoD,IAA1D;IACA,MAAM;MAAEtC;IAAF,IAAa,KAAKI,KAAxB;IACA,oBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAO,OAAO,EAAC,aAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,0BAEE;MACE,IAAI,EAAC,QADP;MAEE,eAAY,aAFd;MAGE,EAAE,EAAC,aAHL;MAIE,KAAK,EAAGV,KAJV;MAKE,QAAQ,EAAGmB,YALb;MAME,IAAI,EAAC,OANP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAFF,CADF,eAaE;MAAO,OAAO,EAAC,mBAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,oCAEE;MACE,IAAI,EAAC,MADP;MAEE,eAAY,mBAFd;MAGE,EAAE,EAAC,mBAHL;MAIE,KAAK,EAAGlB,WAJV;MAKE,QAAQ,EAAGkB,YALb;MAME,IAAI,EAAC,aANP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAFF,CAbF,eAyBE;MAAO,OAAO,EAAC,YAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,0BAEE;MACE,EAAE,EAAC,YADL;MAEE,KAAK,EAAGjB,QAFV;MAGE,QAAQ,EAAGiB,YAHb;MAIE,IAAI,EAAC,UAJP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAMGqC,UAAU,CAACP,GAAX,CAAgBS,GAAD,iBAAS;MAAQ,GAAG,EAAGA,GAAd;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAqBA,GAArB,CAAxB,CANH,CAFF,CAzBF,eAqCE;MAAO,OAAO,EAAC,cAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,2CAEE;MACE,EAAE,EAAC,cADL;MAEE,eAAY,cAFd;MAGE,KAAK,EAAGvD,MAHV;MAIE,QAAQ,EAAGgB,YAJb;MAKE,IAAI,EAAC,QALP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAOE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,cAPF,eAQE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,6BARF,eASE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,4BATF,CAFF,CArCF,eAoDE;MAAO,OAAO,EAAC,WAAf;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,wBAEE;MACE,EAAE,EAAC,WADL;MAEE,eAAY,WAFd;MAGE,KAAK,EAAGf,GAHV;MAIE,QAAQ,EAAGe,YAJb;MAKE,IAAI,EAAC,KALP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAOE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,uBAPF,eAQE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,WARF,eASE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,cATF,eAUE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAVF,eAWE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,cAXF,CAFF,CApDF,EAqEGsC,MAAM,gBACL;MACE,IAAI,EAAC,QADP;MAEE,QAAQ,EAAGnD,MAFb;MAGE,OAAO,EAAGsC,eAHZ;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,oBADK,gBASL;MACE,IAAI,EAAC,QADP;MAEE,OAAO,EAAGb,cAFZ;MAGE,QAAQ,EAAGzB,MAHb;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,uBA9EJ,CADF;EAyFD;;AAhMuC;;AAmM1C,MAAMqD,eAAe,GAAIjD,KAAD,KAAY;EAClC8C,UAAU,EAAE9C,KAAK,CAACkD,MAAN,CAAaJ,UADS;EAElCX,QAAQ,EAAEnC,KAAK,CAACkD,MAAN,CAAaf,QAFW;EAGlCY,MAAM,EAAE/C,KAAK,CAACkD,MAAN,CAAaH,MAHa;EAIlCV,QAAQ,EAAErC,KAAK,CAACkD,MAAN,CAAab,QAJW;EAKlC1B,UAAU,EAAEX,KAAK,CAACmD,KAAN,CAAYC,KALU;EAMlCV,KAAK,EAAE1C,KAAK,CAACmD,KAAN,CAAYT;AANe,CAAZ,CAAxB;;AASA,MAAMW,kBAAkB,GAAIC,QAAD,KAAe;EACxChC,UAAU,EAAGE,OAAD,IAAa8B,QAAQ,CAACpE,WAAW,CAACsC,OAAD,CAAZ,CADO;EAExCD,QAAQ,EAAGmB,KAAD,IAAWY,QAAQ,CAACnE,UAAU,CAACuD,KAAD,CAAX,CAFW;EAGxCvB,WAAW,EAAGoC,GAAD,IAASD,QAAQ,CAAClE,WAAW,CAACmE,GAAD,CAAZ,CAHU;EAIxCnB,aAAa,EAAGZ,OAAD,IAAa8B,QAAQ,CAACrE,mBAAmB,CAACuC,OAAD,CAApB,CAJI;EAKxCiB,cAAc,EAAGC,KAAD,IAAWY,QAAQ,CAACtE,QAAQ,CAAC0D,KAAD,CAAT;AALK,CAAf,CAA3B;;AAQA5C,WAAW,CAAChB,SAAZ,GAAwB;EACtBgE,UAAU,EAAEhE,SAAS,CAAC0E,OAAV,CAAkBzE,MAAlB,CADU;EAEtBuC,UAAU,EAAExC,SAAS,CAAC2E;AAFA,EAGtBC,UAHF;AAKA,eAAe7E,OAAO,CAACoE,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CvD,WAA7C,CAAf"},"metadata":{},"sourceType":"module"}